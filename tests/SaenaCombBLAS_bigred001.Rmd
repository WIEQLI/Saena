---
title: "SaenaCombBLAS"
author: "Majid Rasouli"
date: "December 24, 2016"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

saena vs combblas:

saenaComb_bigred_strong_scaling.txt

```{r, echo=FALSE}
x = c(9, 25, 49, 64)
saenao2 = c(8.60214e-05, 5.16605e-05, 0.000149782, 0.000200629)
combo2 = c(0.000214131, 0.000156822, 0.00026376, 0.00035686)

par(bg = "grey")
plot(x, saenao2, type="o", xlab="p", ylab="time", col="red", xlim = c(0,64), ylim = c(0,0.0193444), main=c("Thin line: Saena  -  Thick line:CombBLAS", "red: nnz=167913 -  blue: nnz=1.2M", "green: nnz=5.3M  -  purple: nnz=17.3M"))

#leg.txt = c("red=Saena order2")
#legend(x2[2],p2comb[2], leg.txt)
#plot(x2,p2comb)

lines(x, combo2, type="o", col="red", lwd=2)

saenao3=c(0.000641611, 0.00022505, 0.00044152, 0.00055656)
combo3=c(0.00165514, 0.000849762, 0.00139589, 0.00105721)
lines(x, saenao3, type="o", col="blue")
lines(x, combo3, type="o", col="blue", lwd=3)

saenao4=c(0.00378894, 0.0020806, 0.00232827, 0.00346779 )
combo4=c(0.00642469, 0.00421989, 0.00522384, 0.0053504)
lines(x, saenao4, type="o", col="green")
lines(x, combo4, type="o", col="green", lwd=3)

saenao5=c(0.0113761, 0.00624669, 0.00856598, 0.011742)
combo5=c(0.0196033, 0.0112446, 0.0191917, 0.0193444)
lines(x, saenao5, type="o", col="purple")
lines(x, combo5, type="o", col="purple", lwd=3)

```


```{r, echo=FALSE}
x = c(436, 12000, 4660000, 11300000)
saena = c(0.000114839, 0.000256689, 0.0030086, 0.00624099)
comb = c(0.000246489, 0.00046278, 0.00341173, 0.00729277)

par(bg = "grey")
plot(x, saena, type="o", xlab="nnz", ylab="time", col="red", xlim = c(0,11300000), ylim = c(0,0.00729277), main=c("Red line: Saena  -  Blue line:CombBLAS", "red: nnz=436 -  blue: nnz=12k", "green: nnz=4.6M  -  purple: nnz=11.3M"))

#leg.txt = c("red=Saena order2")
#legend(x2[2],p2comb[2], leg.txt)
#plot(x2,p2comb)

lines(x, comb, type="o", col="blue")

```


strong scaling:

saenaComb_bigred_strong_scaling.txt

```{r, echo=FALSE}
# strong scaling

x = c(9, 25, 49, 64)
saenao2 = c(8.60214e-05, 5.16605e-05, 0.000149782, 0.000200629)

par(bg = "grey")
plot(x, saenao2, type="o", xlab="p", ylab="time", col="red", xlim = c(0,64), ylim = c(0,0.011742), main=c("Strong Scaling", "red: nnz=167913 -  blue: nnz=1.2M", "green: nnz=5.3M  -  purple: nnz=17.3M"))

#leg.txt = c("red=Saena order2")
#legend(x2[2],p2comb[2], leg.txt)
#plot(x2,p2comb)

saenao3=c(0.000641611, 0.00022505, 0.00044152, 0.00055656)
lines(x, saenao3, type="o", col="blue")

saenao4=c(0.00378894, 0.0020806, 0.00232827, 0.00346779 )
lines(x, saenao4, type="o", col="green")

saenao5=c(0.0113761, 0.00624669, 0.00856598, 0.011742)
lines(x, saenao5, type="o", col="purple")
```


weak scaling:

saenaComb_bigred_weak scaling.txt

```{r, echo=FALSE}
#weak scaling

saenaw12=c(6.00219e-05, 5.69892e-05, 0.000220132, 0.00091383)

par(bg = "grey")
plot(x, saenaw12, type="o", xlab="p", ylab="time", col="red", xlim = c(0,64), ylim = c(0,0.00101257), main=c("Weak Scaling", "red: nnz/p=12000 - green: nnz/p=24000 - purple: nnz/p=37000"))

saenaw24=c(9.10997e-05, 9.36699e-05, 0.000220132, 0.000527701 )
lines(x, saenaw24, type="o", col="green", lwd=2)

saenaw37=c(0.000144451, 0.0001425, 0.000659649, 0.00101257)
lines(x, saenaw37, type="o", col="purple", lwd=2)

```

256 proc:

saenaComb_bigred_256proc.txt

```{r, echo=FALSE}
#weak scaling

saenaw12=c(6.00219e-05, 5.69892e-05, 0.000220132, 0.00091383)

par(bg = "grey")
plot(x, saenaw12, type="o", xlab="p", ylab="time", col="red", xlim = c(0,64), ylim = c(0,0.00101257), main=c("Weak Scaling", "red: nnz/p=12 - green: nnz/p=24 - purple: nnz/p=37"))

saenaw24=c(9.10997e-05, 9.36699e-05, 0.000220132, 0.000527701 )
lines(x, saenaw24, type="o", col="green", lwd=2)

saenaw37=c(0.000144451, 0.0001425, 0.000659649, 0.00101257)
lines(x, saenaw37, type="o", col="purple", lwd=2)

```

